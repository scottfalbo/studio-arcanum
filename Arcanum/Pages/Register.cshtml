@page
@model Arcanum.Pages.RegisterModel

@{
}

<script>
    console.log("hello");

</script>

@if (Model.PageState == PageState.Inital || Model.PageState == PageState.NotValid)
{
    <h2>Please enter your access code</h2>
    <form asp-page-handler="ValidateAccessCode" method="post">
        <label>
            <input type="text"name="code" placeholder="enter access code" />
            <input type="submit" value="validate code" />
        </label>
    </form>
}

@if (Model.PageState == PageState.NotValid)
{
    <p>Invalid access code, please double check and try again.</p>
}

@if (Model.PageState == PageState.Confirmed)
{
    <h2>Registration Form</h2>
    <form asp-page-handler="Register" method="post">
        <div><input type="text" name="username" placeholder="username" required /></div>
        <div><input type="text" name="email" placeholder="email" required id="email-input"/></div>
        <p id="email-validator">X</p>
        <div><input type="password" name="password" placeholder="password" required id="password-input" /></div>
        <div><input type="password" placeholder="password" required id="password-validator"/></div>
        <p id="password-valid-status">X</p>
        <input type="hidden" asp-for="@Model.ValidCode" value="@Model.ValidCode" />
        <div><input type="submit" value="Create Account" id="create-account-submit" class="fade-me"/></div>
    </form>
}
